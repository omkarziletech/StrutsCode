/*
 * Generated by MyEclipse Struts
 * Template path: templates/java/JavaClass.vtl
 */
package com.gp.cong.logisoft.struts.ratemangement.action;

import java.util.ArrayList;
import java.util.List;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import org.apache.struts.action.Action;
import org.apache.struts.action.ActionForm;
import org.apache.struts.action.ActionForward;
import org.apache.struts.action.ActionMapping;

import com.gp.cong.logisoft.domain.UniverseAirFreight;
import com.gp.cong.logisoft.struts.ratemangement.form.EditUniverAirFrightForm;

/** 
 * MyEclipse Struts
 * Creation date: 07-31-2008
 * 
 * XDoclet definition:
 * @struts.action path="/editUniverAirFright" name="editUniverAirFrightForm" input="/form/editUniverAirFright.jsp" scope="request"
 */
public class EditUniverAirFrightAction extends Action {

    public ActionForward execute(ActionMapping mapping, ActionForm form,
            HttpServletRequest request, HttpServletResponse response) {
        EditUniverAirFrightForm universalAirRateForm = (EditUniverAirFrightForm) form;// TODO Auto-generated method stub
        String amount = universalAirRateForm.getAmount();
        String button = universalAirRateForm.getButtonValue();
        HttpSession session = ((HttpServletRequest) request).getSession();
        //GenericCode genObj=new GenericCode();
        //GenericCodeDAO genericCodeDAO=new GenericCodeDAO();
        List airList = new ArrayList();
        String FORWORD = "";
        List rangeList = new ArrayList();
        UniverseAirFreight universeAirFreightobject = new UniverseAirFreight();


        if (button != null && button.equals("add")) {
            if (session.getAttribute("edituniarifright") != null) {
                universeAirFreightobject = (UniverseAirFreight) session.getAttribute("edituniarifright");
            }
            if (amount != null && !amount.equals("")) {
                universeAirFreightobject.setAmount(Double.parseDouble(amount));
            }
            if (session.getAttribute("uniarifrightlist") != null) {
                airList = (List) session.getAttribute("uniarifrightlist");
                for (int i = 0; i < airList.size(); i++) {
                    UniverseAirFreight uniairList = (UniverseAirFreight) airList.get(i);
                    if (uniairList != null && universeAirFreightobject != null) {
                        if (uniairList.getWeightRange().getId() == universeAirFreightobject.getWeightRange().getId()) {
                            airList.set(i, universeAirFreightobject);
                            break;
                        }
                    }
                }
                session.setAttribute("uniarifrightlist", airList);
            }

        }
        if (button != null && button.equals("delete")) {
            if (session.getAttribute("edituniarifright") != null) {
                universeAirFreightobject = (UniverseAirFreight) session.getAttribute("edituniarifright");
            }

            if (session.getAttribute("uniarifrightlist") != null) {
                airList = (List) session.getAttribute("uniarifrightlist");
                for (int i = 0; i < airList.size(); i++) {
                    UniverseAirFreight uniairList = (UniverseAirFreight) airList.get(i);
                    if (uniairList != null && universeAirFreightobject != null) {
                        if (uniairList.getWeightRange().getId() == universeAirFreightobject.getWeightRange().getId()) {

                            airList.remove(universeAirFreightobject);
                            break;
                        }
                    }
                }

                session.setAttribute("uniarifrightlist", airList);
            }

        }
        if (button != null && button.equals("cancel")) {
            if (session.getAttribute("edituniarifright") != null) {
                session.removeAttribute("edituniarifright");
            }
        }

        FORWORD = "uniairAdd";
        return mapping.findForward(FORWORD);
    }
}